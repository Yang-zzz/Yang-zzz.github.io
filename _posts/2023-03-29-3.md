---
layout: single
title: "React - List & Key "
---

# List & Key

## List Element's key

- React에서는 List Element를 생성할때에는 key Props를 부여 해야 한다.
- List Element에 key attribute의 value는 **문자열**형태로 부여해야한다.
  ```react
    function NumberList(props) {
    const numbers = props.numbers;
    const listItems = numbers.map((number) =>
      <li key={number.toString()}>
        {number}
      </li>
    );
    return (
      <ul>{listItems}</ul>
    );
  }
  ```
- 또한 key value에는 **고유한 식별데이터**가 작성되어야 한다.
- 왜냐하면 React에서는 자식이 key값 가지고 있다면 이를 통해 추가, 생성, 수정할지 식별하는데 사용되기 때문이다.
- virtualDOM에서는 **수정 이전 VDOM** 과 **수정 이후 VDOM** 을 비교하여 다른 부분을 찾을때, key 값을 통해 효율적인 수정을 진행한다.

## 재조정(Reconciliation)

- VirtualDOM에서는 재조정을 통한 데이터의 변화를 효율적으로 업데이트 한다.
- 이러한 과정에서 key Props는 더욱 효율적인 상태업데이트를 돕는다.
- 예시 1)
  ```react
      // ...생략
      // 수정 전
      return (
          <ul>
              <li>first</li>
              <li>second</li>
          </ul>
      )
  ```
  ```react
      // ...생략
      // 수정 후
      return (
          <ul>
              <li>first</li>
              <li>second</li>
              <li>third</li>
          </ul>
      )
  ```
  수정 전 코드와 수정 후 비교하면 <li>first</li> <li>second</li>는 변하지 않고 **<li>third</li>**만 새롭게 추가되었기 때문에 이를 인지하고 효율적인 업데이트를 진행합니다.
- 예시 2)

  ```react
      // ...생략
      // 수정 전
      return (
          <ul>
              <li>김길동</li>
              <li>박철수</li>
          </ul>
      )
  ```

  ```react
      // ...생략
      // 수정 후
      return (
          <ul>
              <li>김한나</li>
              <li>김길동</li>
              <li>박철수</li>
          </ul>
      )
  ```

  예시1)과 다르게 예시2)에서는 **<li>김한나</li>**가 첫번째로 삽입되면서 li의 순서가 모두 바뀌고 3개의 <li></li> Element 모두가 업데이트를 진행하게 됩니다. 이는 비효율적인 업데이트로 성능이슈가 발생할 수 있습니다.

  이를 좀더 효율적으로 수정하기 위하여 keyProp을 사용하고 효율적인 업데이트를 진행할 수 있도록 돕습니다.
