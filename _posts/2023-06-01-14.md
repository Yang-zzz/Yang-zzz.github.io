---
layout: single
title: "Javascript - 면접스터디_ 함수,스코프"
categories: Javascript
tag: Javascript
toc: true
author_profile: false
sidebar:
  nav: "docs"
---

# 함수, 스코프

## 함수🔥

### 1. 자바스크립트에서 함수를 정의하는 방법은 몇가지가 있나요?

- 함수 선언문
  - 선언문은 함수 이름을 생략할 수 없다.
- 함수 표현식
  - JS 함수는 일급객체로 변수에 할당할 수 있으며, 변수에 할당하는 방식을 표현식이라 칭한다.
- 생성자 함수
  - 빌트인 메서드를 통해 new 연산자와 함께 호출하면서 함수 객채를 생성
- 화살표 함수 (arrow function)
  - 조금 다른 this 바인딩 방식, 프로토타입 프로퍼티 존재 x, **아규먼트’s 객체를 생성x**
  - 화살표 함수에는 **this가 존재 하지 않기** 때문에, 외부(상위)객체를 참조하게 된다.
  - 주로 **콜백 함수**나 **익명 함수**에 사용된다.
- 함수 정의 방법 예시 코드

  ```javascript
  1. 함수 선언문
  function Test(a, b) {
  	return a+b
  }

  2. 함수 표현식
  const TestFunction = function(a, b) {
  	return a + b
  	}

  3. 생성자 함수
  const TestFunction new Function(a,b,'return x + y')

  4. 화살표 함수
  const TestFunction1 = (a,b) => { return a + b }; // 또는
  const TeestFunction2 = (a, b) => a + b // 몸체가 한줄 구문 이면 중괄호 와 return 생략 가능
  const TeestFunction3 = a =>  {...} // 매개변수 1개일 경우 소괄호 생략 가능

  // arguments 가 없다.
  const argsFunc = (...args) => {
  	console.log(args)
  }
  argsFunc(1,2,3);

  ```

### 2. 함수 선언문과 함수 표현식은 어떤 차이가 있나요?

  - 함수 선언문은 호이스팅 되지만, 함수 표현식은 호이스팅 되지 않는다.

### 3. 즉시 실행 함수(IIFE)에 대해 알고 있나요? 알고 있다면 아는 내용에 대해 말해보세요
  - 함수 정의와 호출이 동시에 되는 함수이며 단 한 번만 호출되고, 다시 호출할 수 없다.
  - 일반적으로 익명함수를 사용하며, 그룹 연산자로 함수를 묶어야 한다.
  - 왜냐면 선언문 뒤의 ()을 그룹연산자로 해석되고 그룹연산자 안에 피연산자가 없기 때문에 에러가 발생한다.

## 스코프 🔥

### 1. 스코프가 뭔가요? 🔥🔥
  - 모든 식별자는 자신이 선언된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효 범위가 결정되는데 이를 스코프라 한다. (**식별자의 유효 범위**)
  - 자바스크립트 엔진이 식별자를 검색할 때 사용 하는 규칙이다.
  - 스코프를 통해 식별자인 변수 이름의 충돌을 방지하여 같은 이름을 사용할 수 있게 한다. (네임 스페이스)

### 2. 스코프에는 어떤 종류가 있죠? 🔥

 >**전역 스코프**
  코드의 가장 바깥 영역이며, 전역 스코프를 갖는 변수는 **전역 변수**이다.<br>
  전역 어디서든 참조할 수 있으며, 함수 내부에서도 참조할 수 있다.

  >**지역스코프**
  함수 몸체 내부를 말하며 지역 스코프를 갖는 변수는 **지역 변수**이다.<br>
  자신이 선언된 지역 + 하위 지역(중첩 함수)에서만 참조할 수 있다.

### 3. 렉시컬 스코프를 아나요? 안다면 렉시컬 스코프는 무엇을 의미하나요? 🔥
  - 함수는 어디서 호출 했는지 보다 **선언(정의)** 했는지에 따라 **함수의 상위 스코프를 결정**하게 되는데, 이를 정적 스코프 **렉시컬 스코프**라과 한다.
  - 함수 정의가 실행되어 생성된 함수 객체는 결정된 상위 스코프를 기억하고 함수가 호출될 때마다 함수의 상위스코프를 참조한다.

### 4. 전역 변수로 변수를 선언하면 생기는 문제점은 무엇이 있을까요?

  - **암묵적 결합**
    - 전역에서 사용하고 참조, 할당할 수 있는 변수라는 의미로 압묵적 결합을 허용하게 된다면 의도치 않은 상태가 변경될 수 있는 위험이 발생한다.
  - **스코프 체인의 최상위에 존재**
    - 상위 스코프를 타고 타고 올라가면서 찾게 됨으로 가장 말단에 있기 때문에 검색속도가 가장 느리다.
  - **네임스페이스 오염**
    - 파일이 분리되어 있어도 스코프를 공유하게 됨으로 다른 파일 내에서 동일한 이름으로 명명된 전역 변수 또는 전역 함수가 존재한다면 예상치 못한 결과를 초래하는 위험한 상황이 있다.
  - **긴 생명주기**
    - 전역 변수는 생명주기가 길기 때문에 리소스도 오랜 기간 소비하게 된다.  생명주기가 길 수록 변경될 기회가 많아지며 오류가 발생할 확률이 높아진다.
- 지역 변수 사용을 지향하며 변수의 스코프를 최대한 좁게 가저갈 수 있도록 하자!

## 질문 리스트
- 함수 선언문과 함수 표현식의 차이는?(호이스팅 물어보는 의도, 호이스팅 꼬리질문 할거임)
- 렉시컬 스코프가 무엇이고 렉시컬 스코프를 왜 알아야할까요?(스코프체인 유도질문임)
- 스코프에 대해서 아는 것을 설명해주세요
- var, let, const 키워드를 사용할 때 스코프는 어떻게 달라지나요?(지성)
- 스코프와 클로저(Closures)의 차이는 무엇인가요?(지성)
- 스코프와 실행 컨텍스트(Execution Context)의 차이는 무엇인가요?(지성)

# 회고
## 1. 새롭게 알게된 내용

- 함수 표현식에 할당한 리터럴은 **함수 리터럴** 이라 칭한다.
    - 함수 선언문을 해당 변수에 할당했다고 이해했었음 (x, 잘못된 표현)

## 2. 더 공부가 필요한 내용

- 표현식(Expression) 과 문장(Statements)
    - 문장은 값(value)을 반환하지 않는 행동문장이다.(ex. if문, for문, while문)
    - 표현식은 값으로 확인되는 코드조각이다. 즉, 값(value)이다.
    
    ```jsx
    //문장 vs 표현식
    
    // 1번
    1 + 1 = 2 // ??
    
    // 2번
    2 //??
    
    // 3번
    function add(a,b) {
      return a+ b
    };
    
    // 4번
    add(1,2) // ?
    
    // 5번
    (Math.random() * (100-20)) + 20 ??
    
    // 6번
    1 + 1; // ? 표현식인 문
    
    // 7번
    const test = function(a,b) { return a + b };
    console.log(test());
    
    // 8번 조건문
    if(true) { 9 + 9 }; // ?
    
    // 9번 즉시실행함수
    (function () {return '이건 문장vs표현식?'})()
    ```
    
    - 자바스크립트에서 값이 들어올 곳에 함수를 선언할 때마다, 자바스크립트는 그것을 값으로 다루려 한다. 만일 그 함수가 **값으로 사용될 수 없다면, 에러가 발생한다.**
- 화살표 함수
    - 아규먼트’s 객체를 생성x  (이해하지 못한 개념..!)
- 함수 선언문과 함수 표현식은 어떤 차이
    - 함수 선언문은 **함수 호이스팅**이 발생 하며, 함수 표현식은 **변수 호이스팅**이 발생한다.
        - 함수 선언문으로 정의된 함수와 표현식으로 정의된 함수의 **생성 시점이 다르기 때문**이다. (런타임 이전 vs 런타임 때)
        - 함수 선언문은 **런타임 이전**에 JS엔진에 의해 먼저 실행 되어 **함수 객체가 먼저 생성**되고 함수이름과 동일한 식별자를 암묵적으로 생성 후 **함수객체를 할당**한다.
        - 함수 표현식은 변수에 할당되는 값이 함수 리터럴 이기 때문에 변수 **선언문과 변수 할당문을 한번에 축약표현과 동일하게 동작한다.**  var 변수로 지정한 함수 표현식의 경우 런타임 이전에 undefined 초기화 되지만 할당문의 값은 **런타임에 평가됨.**
        - 함수 선언문은 함수 호이스팅이 발생하여  1. 런타임 이전에 함수객체 메모리 공간 생성 → 2. 함수객체 할당(함수 객체로 초기화 후 할당)
        - 함수 표현식(var의 경우)은 변수 호이스팅이 발생하여 1. 런타임 이전에 변수 메모리 공간 생성→ 2. undefined 초기화 → 3. 런타임에 변수에 함수 리터럴을 할당
        - 그렇다면 let 과 const 가 호이스팅 되지 않는가? ⇒ Nope!
            
            ```jsx
            let x = 10;
            {
            console.log(x); // ?
            let x = 5;
            }
            // const 도 마찬가지
            ```
            
        - 호이스팅이 되지 않았다면 10이 출력됬어야 하지만, let,const 도 호이스팅 되기 때문에 ReferenceError (access) 가 발생한다.
    - 호이스팅 설명을 위한 실행 컨텍스트 내용도 필요함. (6월 5일 스터디에 설명!)
- 즉시 실행함수
    - 익명함수를 소괄호()로 감싸줌으로 내부 코드가 **선언문이 아닌 표현식인 것 처럼** Parser를 속인다.
    - ()소괄호 안에 함수선언문을 표현식인 것처럼 속임으로써 ⇒ 값으로써 판단 될 수 있도록 하는 것 (양지성 피셜)
        
        ```jsx
        (function(){ console.log('즉시실행함수')})() // 괄호 안에 괄
        (function(){ console.log('즉시실행함수')}()) //더글라스 표기
        ```
        
    - ;(세미콜론) 을 붙여서 문장의 끝이라는 신호를 보내줄 수 있도록 해야한다. 자바스크립트는 ()를  **함수 호출**, **함수 표현식을 감싸는 역할**, **연산자 우선순위 조절 역할**을 하기도 한다.
    - 
        
        ```jsx
        const a = 1 // 세미콜론 생략함
        
        (function () {
        	console.log(1)
        })()
        
        // error 발생 : typeError : 1 is not a function
        // ; 세미콜론이 없기 때문에 이어진 문장이라고 인식하고 * 연산을 진행한 것
        ```
        
    

## 3. 느낀점 (자유롭게)

- 발표할 때 기술 및 cs 용어 키워드를 사용하여 명확히 설명할 수 있도록! 이해하지 못한 용어와 생소한 키워드 학습이 필요함.

# * 참고링크

- [https://medium.com/korbit-engineering/let과-const는-호이스팅-될까-72fcf2fac365](https://medium.com/korbit-engineering/let%EA%B3%BC-const%EB%8A%94-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85-%EB%90%A0%EA%B9%8C-72fcf2fac365) (let 과 const 호이스팅 되는가?)
- [https://inpa.tistory.com/entry/JS-📚-IIFE-즉시실행-함수-표현식#논리_부정_연산자](https://inpa.tistory.com/entry/JS-%F0%9F%93%9A-IIFE-%EC%A6%89%EC%8B%9C%EC%8B%A4%ED%96%89-%ED%95%A8%EC%88%98-%ED%91%9C%ED%98%84%EC%8B%9D#%EB%85%BC%EB%A6%AC_%EB%B6%80%EC%A0%95_%EC%97%B0%EC%82%B0%EC%9E%90) (즉시실행 함수)
- 표현식과 문
  - [https://velog.io/@gay0ung/표현식Expression-과-문장Statement#문장statement](https://velog.io/@gay0ung/%ED%91%9C%ED%98%84%EC%8B%9DExpression-%EA%B3%BC-%EB%AC%B8%EC%9E%A5Statement#%EB%AC%B8%EC%9E%A5statement)
  - [유툽](https://www.youtube.com/watch?v=WVyCrI1cHi8) (강추)
  - [깃헙](https://github.com/yjs03057/33-js-concepts) (강추)