---
layout: single
title: "Javascript - 면접스터디_변수"
categories: Javascript
tag: Javascript
toc: true
author_profile: false
sidebar:
  nav: "docs"
---

# 변수

## 변수란 무엇인가요?
  - 데이터를 관리하기 위한 핵심 개념으로 하나의 값을 **저장하기 위해 확보한 메모리 공간** 또는 **메모리 공간을 식별하기 위해 붙인 이름**
  - 값의 위치를 가리키는 상징적인 이름을 뜻한다.
  - 해당 언어의 컴파일러 또는 인터프리터에 의해 **값이 저장된 메모리 공간의 주소로 치환**되어 실행된다.
  >그렇다면 변수 저장되어 있는 것은 값이 아니라 메모리 주소가 저장되어 있는 것?
  1. 변수는 ‘이름’ 과 ‘값’을 연결 시켜주는 ‘구조체 역할’
  2. 변수를 선언하면 이름에 해당하는 메모리 공간이 할당되고
  3. 할당된 메모리 공간에 ‘값’이 저장된다.<br>

## 식별자란 무엇인가요? 🔥
  - 변수를 칭하는 이름을 뜻한다.
  <br>___(== 변수 이름, 변수 이름에만 국한되지 않고 함수, 클래스 등 이들도 식별자라 칭할 수 있다.)___
  - 값을 구별하여 식별할 수 있는 고유 이름
  - 식별자는 값이 아니라 **메모리 주소를 기억**하고 있다.
  - 메모리 주소를 통해 메모리 공간에 저장된 값에 접근할 수 있다는 의미.
  - 선언에 의해 식별자의 존재를 알릴 수 있다.
  <br>___(변수를 선언할지, 함수를 선언할지, 클래스를 선언할지)___

## 변수를 선언한다는 것은 어떤 것을 의미하나요?
  - 변수를 생성 하는 것 == 값을 저장하기 위한 메모리 공간을 확보
    ```javascript
    var Test
    var 변수
    // 값을 할당 하지 않고 선언한 상태 == 메모리를 공간을 확보만 해놓은 상태
    ```
- 확보된 공간의 메모리 주소와 변수이름을 연결하여 값을 저장할 수 있게 준비하는 과정!
- 변수 선언에는 var, let, const 키워드를 사용해야 한다.

## var 키워드는 뭔가요?
  - 새로운 변수를 선언 하는 지시 키워드
  - 자바스크립트 엔진이 수행할 동작을 규정하는 일종의 명령어
  - 자바스크립트 엔진은 var 키워드를 만나면 수행해야할 약속된 동작을 수행
  - 새로운 변수를 선언 (== 메모리 공간확보)
  - var는 전역공간을 사용한다?
    <br>___(함수안에서만 유효한 성격을 가지고 있기 때문에 아래 예시에서는 if 문은 함수가 아니기 때문에 마지막에 재할당된 ‘지역’ 이라는 데이터가 할당되었기 때문!)___
    ```jsx
    var global = '전역'
    
    if(global === '전역') {
    	var global = '지역'
    	console.log('안 : ' + global); // 무엇?
    }
    console.log('밖 : ' + global); // 무엇?
    ```

## 호이스팅이 뭔가요? 🔥🔥
  - 런타임 이전에 실행 컨택스트에 의해 소스코드가 평가과정에서 스코프에 등록 되고, <br>**이때 해당 코드가 마치 가장위에 있는 것처럼 만드는 것**
  - 다시말해 소스코드의 어디에 있든 상관없이 다른 코드보다 먼저 실행되고 어디서든지 변수를 참조할 수 있는 것 처럼 만드는 특징
  - 선언과 할당이 분리되는 것!
    - 분리되는 시기는? → ‘런타임’시기에
  - 변수 같은 경우 (var의 경우) 선언문 이전에 참조할 수 있다. 다만 할당하지 않은 상태이기 때문에 출력하면 undefined 를 반환한다.  
    ```javascript
    var global = 0;
    
    outer();
    function outer() {
    	var global // 
    	console.log('? :' + global) // ? ==> undefined
    	global = 5;
    	
    	function inner () {
    		var global = 10;
    
    		console.log('10 : ' + global) // 10
    	}
    	inner();
    
    	global = 1;
    
    	console.log('1 : ' + global); // 1
    
    }
    ```
  - 변수 뿐만 아니라 let, const, 함수, class 키워드를 사용하 선언한 식별자는 호이스팅된다.
  - **때문에 호이스팅은 예측하기 어렵고 에러 발생확률을 높인다 때문에 let과 const, 함수는 const 와 함께 표현식으로 작성할 수 있도록 하자.**

## var 키워드의 문제점은 무엇이 있나요? 🔥
  - 중복 선언이 가능(재할당)하기 때문에 의도치 않은 결과값이 나올 수 있어 혼란을 야기시킨다.
  - 함수 레벨 스코프는 전역공간을 사용하기 때문에 의도하지 않은 결과 값이 나올 수 있다.
  - 변수 호이스팅을 야기할 수 있다. 이 또한 예상하지 않은 결과값이 나올 수 있기 때문에 지양

## let 키워드는 var 키워드와 어떤 점이 다른가요? 🔥🔥
  - let은 es6에 도입된 키워드 이며 중복선언이 불가능하고 블록레벨 스코프이다.
  - 블록 레벨 스코프는 유효 범위를 벗어나면 사용할 수 없다.
  - 변수 호이스팅이 발생하지 않는 것처럼 동작한다.

## TDZ 🔥🔥
  - 변수를 참조할 수 없는 구간을 ‘일시적 사각지대’ 라고 한다.
  - 호이스팅이 발생하지 않는 것처럼 동작한다.
  - let 키워드를 통해 선언된 변수는 선언과 초기화 과정이 분리된다. 

  >런타임 이전에 자스엔진은
  1. 선언단계가 먼저 실행되고 이후에 초기화 단계가 진행되는데
  2. 초기화 단계는 선언문에 도달해야 초기화를 진행할 수 있는 것!
  3. 때문에 초기화 단계 이전에 접근하면 Reference Error가 발생한다.

  - 선언 후 할당되기 직전 과정까지가 TDZ라고 한다.

## const 키워드는 어떤 특징이 있나요? 🔥
- let 과 반대 되는 키워드를 중심으로 생각해보자
- 선언과 초기화, 할당이 함께 되어야 한다. 따로 진행될 경우 synTextError가 발생!
- 재할당이 불가능하다.
- 상수

## 정리
### 1. 새롭게 알게된 내용
   - 변수의 선언, 초기화, 할당 에 대한 개념을 구분 하지 못하였는데 이해할 수 있게 되었음. (과거에는 초기화와 할당을 같다고 생각했음)
   - 선언 : 변수에 메모리 공간을 확보
   - 초기화 : 확보한 메모리 공간에 임시로 undefined 를 할당
   - 할당 : 메모리 공간에 값 또는 값을 참조하고 있는 주소

### 2. 더 공부가 필요한 내용
   - **var는 전역공간을 사용한다? vs 함수안에서만 유효한 성격을 가지고 있다?**
   - var 키워드를 사용하여 값을 저장한 변수는 전역 변수라 칭하는것이 아니라, 함수스코프를 가지는 변수라 칭하는게 맞다.
   - 변수가 전역 변수인지 아닌지는 키워드(식별자)가 아니라 **변수가 선언된 위치와 변수의 범위에 따라 결정**된다.
        
        ```javascript
        var global = '전역'
        
        function test() {
            var global = '지역'
            console.log('안 : ' + global); // 무엇?
        }
        test();
        
        console.log('밖 : ' + global); // 무엇?
        ```

   - 때문에 var 을 사용한 변수가 전역공간에 저장되어있다라 라는 개념은 명확한 개념이 아니다! 하지만 전역에서 접근은 할 수 있다… 그래서 쓰지말라…(하..ㅆ…)
   - **호이스팅은 예측하기 어렵고 에러 발생확률을 높인다. 때문에 let과 const, 함수는 표현식으로 작성할 수 있도록 하자.**
   - 함수를 사용할 때 표현식으로 사용해야 하는 이유는 **호이스팅을 방지** 하기위해서 이다
   - 호이스팅은 예상하기 어려운 상황을 초례할 수 있기 때문이다.(함수레벨 스코프에 해당하는 식별자들 때문)
   - 명확히 정리하면 const 함수명 = () ⇒ {} , **const 키워드와 함께 표현식으로 사용하자!**
   - const는 선언,초기화,할당을 한번에 하게 되면 블록레벨스코프에 해당하는 식별자이기 때문에 혼란을 방지할 수 있다.

      ```javascript
      // 예시 1
      var sum; 
      
      function sum() {
         	return 1 + 2
      }    
      console.log(sum) // sum() 함수가 호출됨.
            
      // 이미 선언된 sum 변수이름임에도 불구하고 function에 똑같은 sum 이름을 작성해도
      // error가 발생하지 않는 이유는? == 함수도 호이스팅 되기 때문
      // 해결방법은? => 선언,할당을 한번에 해버리면 분리됨!     
      -------------------------------------------------------------------
      // 예시 2 : 선언,할당을 한번에 한 경우
      var sum = 10;     
      
      function sum() {
          return 1 + 2
      }      
      console.log(sum) // 10
            
      -------------------------------------------------------------------
      // 예시 3-1 : 함수를 선언하고 사용할 때는 함수 표현식으로 사용하자
      // 함수를 표현식으로 사용한 경우
      
      console.log(sum); // ReferencError : sum in not defined    
      
        const sum = () => {
          return 1 + 2
      }      
      // 예시 3-2 : 함수를 선언식으로 사용한 경우
      
      console.log(sum); // sum 함수가 호출됨.
         
        function sum() {
        	return 1 + 2         
      }
        ```
            

### 3. 느낀점 (자유롭게)

안다고 다 아는게 아니다. 다시 돌아보자

내 입에서 술술나오지 않는다면 아직 무의식에 자바스크립트는 박혀있지 않다라는 뜻!
